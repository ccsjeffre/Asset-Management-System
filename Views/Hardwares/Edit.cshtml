@model HardwareDTO
@{
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
}

@using Microsoft.AspNetCore.Http
<main class="main-content" id="main-content">
    <h1 class="text-center text-4xl font-bold text-gray-800 mb-6">Edit Hardware</h1>

    <section class="bg-gradient p-6 rounded-lg mb-8 ring-1 ring-inset ring-gray-300">

        <div class="row">
            <div class="col-md-8 mx-auto rounder border p-3">

                <form asp-action="Edit" asp-controller="Hardwares" method="post" enctype="multipart/form-data">
                    @*Hardware ID*@
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label">Hardware ID</label>
                        <div class="col-sm-8">
                            <input class="form-control-plaintext" readonly value="@ViewData["HardId"]" />
                        </div>
                    </div>

                    @*Hardware Type*@
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label">Hardware Type</label>
                        <div class="col-sm-8">
                            <select class="form-select" asp-for="HardType">
                                <option value="">Select Hardware Type</option>
                                <option value="Mouse">Mouse</option>
                                <option value="Monitor">Monitor</option>
                                <option value="Keyboard">Keyboard</option>
                                <option value="System Unit">System Unit</option>
                                <option value="AVR">AVR</option>
                            </select>
                            <span asp-validation-for="HardType" class="text-danger"></span>
                        </div>
                    </div>

                    @*Hardware Location*@
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label">Hardware Location</label>
                        <div class="col-sm-8">
                            <select class="form-select" asp-for="HardLocation" id="HardLocationSelect">

                                <option value="">Select Location</option>
                                <option value="LAB1">LAB1</option>
                                <option value="LAB2">LAB2</option>
                                <option value="LAB3">LAB3</option>
                                <option value="LAB4">LAB4</option>
                                <option value="LAB5">LAB5</option>
                                <option value="LAB6">LAB6</option>
                                <option value="LAB7">LAB7</option>
                                <option value="Others">Others (please specify)</option>
                            </select>
                            <span asp-validation-for="HardLocation" class="text-danger"></span>

                            <div id="otherLocationInputDiv" style="display:none; margin-top: 10px;">
                                <input type="text" class="form-control" id="HardLocationOthersInput" name="HardLocationOthers" placeholder="Please specify other location" />
                                <span id="HardLocationOthersValidation" class="text-danger"></span>
                            </div>
                        </div>
                    </div>

                    @section Scripts {
                        <script>
                            document.addEventListener('DOMContentLoaded', function () {
                                var hardLocationSelect = document.getElementById('HardLocationSelect');
                                var otherLocationInputDiv = document.getElementById('otherLocationInputDiv');
                                var hardLocationOthersInput = document.getElementById('HardLocationOthersInput');
                                var hardLocationOthersValidation = document.getElementById('HardLocationOthersValidation');

                                function toggleOtherLocationInput() {
                                    if (hardLocationSelect.value === 'Others') {
                                        otherLocationInputDiv.style.display = 'block';
                                        hardLocationOthersInput.setAttribute('required', 'required');
                                    } else {
                                        otherLocationInputDiv.style.display = 'none';
                                        hardLocationOthersInput.removeAttribute('required');
                                        hardLocationOthersInput.value = '';
                                        hardLocationOthersValidation.textContent = '';
                                    }
                                }

                                hardLocationSelect.addEventListener('change', toggleOtherLocationInput);

                                toggleOtherLocationInput();
                            });
                        </script>
                    }

                    @*Hardware Sticker Number*@
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label">Hardware Sticker Number</label>
                        <div class="col-sm-8">
                            <input class="form-control-plaintext" readonly asp-for="HardStickerNum" />
                            <span asp-validation-for="HardStickerNum" class="text-danger"></span>
                        </div>
                    </div>


                    @*Hardware Brand*@
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label">Hardware Brand</label>
                        <div class="col-sm-8">
                            <input class="form-control" asp-for="HardBrand" />
                            <span asp-validation-for="HardBrand" class="text-danger"></span>
                        </div>
                    </div>

                    @*Hardware Status*@
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label">Hardware Status</label>
                        <div class="col-sm-8">
                            <select class="form-select" asp-for="HardStatus">
                                <option value="">Select Staus</option>
                                <option value="Functional">Functional</option>
                                <option value="Defective">Defective</option>
                                <option value="Under Repair">Under Repair</option>
                                <option value="On Borrowed">On Borrowed</option>
                                <option value="Deployed">Deployed</option>
                            </select>
                            <span asp-validation-for="HardStatus" class="text-danger"></span>
                        </div>
                    </div>

                    @*Hardware DateAcquisition*@
                    <div class="row mb-3">
                        <label class="col-sm-4 col-form-label">Date of Acquisition</label>
                        <div class="col-sm-8">
                            <input type="date" class="form-control" asp-for="DateAcquisition" />
                            <span asp-validation-for="DateAcquisition" class="text-danger"></span>
                        </div>
                    </div>

                    @*Buttons*@
                    <div class="row">
                        <div class="offset-sm-4 col-sm-4 d-grid">
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </div>
                        <div class="col-sm-4 d-grid">
                            <a class="btn btn-outline-primary" asp-controller="Hardwares" asp-action="Index" role="button">Cancel</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>
</main>